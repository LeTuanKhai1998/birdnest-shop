import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
  console.log('ðŸ” Testing products and their types...');

  // Get all products with their categories
  const products = await prisma.product.findMany({
    include: {
      category: true
    }
  });

  console.log(`Found ${products.length} products:`);
  
  products.forEach((product, index) => {
    console.log(`${index + 1}. ${product.name}`);
    console.log(`   Category: ${product.category?.name || 'No category'}`);
    console.log(`   Category ID: ${product.categoryId}`);
    console.log(`   Weight: ${product.weight}g`);
    console.log(`   Price: ${product.price}`);
    console.log('---');
  });

  // Check what types would be generated by the frontend logic
  console.log('\nðŸ“‹ Frontend type mapping:');
  products.forEach((product, index) => {
    let type = 'KhÃ¡c';
    if (product.name.includes('tinh cháº¿')) type = 'Yáº¿n tinh cháº¿';
    else if (product.name.includes('rÃºt lÃ´ng')) type = 'Yáº¿n rÃºt lÃ´ng';
    else if (product.name.includes('thÃ´')) type = 'Tá»• yáº¿n thÃ´';
    
    console.log(`${index + 1}. ${product.name} -> Type: ${type}`);
  });
}

main()
  .catch((e) => {
    console.error('âŒ Error testing products:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  }); 